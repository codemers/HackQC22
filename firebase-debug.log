[debug] [2022-10-29T20:55:39.636Z] ----------------------------------------------------------------------
[debug] [2022-10-29T20:55:39.638Z] Command:       /usr/local/Cellar/nvm/0.37.2/versions/node/v16.15.1/bin/node /usr/local/opt/nvm/versions/node/v14.18.1/bin/firebase emulators:start
[debug] [2022-10-29T20:55:39.638Z] CLI Version:   11.0.0
[debug] [2022-10-29T20:55:39.639Z] Platform:      darwin
[debug] [2022-10-29T20:55:39.639Z] Node Version:  v16.15.1
[debug] [2022-10-29T20:55:39.640Z] Time:          Sat Oct 29 2022 16:55:39 GMT-0400 (heure avancée de l’Est)
[debug] [2022-10-29T20:55:39.641Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-10-29T20:55:39.713Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-10-29T20:55:39.713Z] > authorizing via signed-in user (justin.brlotte797@gmail.com)
[debug] [2022-10-29T20:55:39.798Z] java version "19.0.1" 2022-10-18

[debug] [2022-10-29T20:55:39.800Z] Java(TM) SE Runtime Environment (build 19.0.1+10-21)
Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)

[debug] [2022-10-29T20:55:39.803Z] Parsed Java major version: 19
[info] i  emulators: Starting emulators: auth, functions, firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore"}}
[debug] [2022-10-29T20:55:39.839Z] [hub] writing locator at /var/folders/7t/lhrdw48d4kd_3cghf1hdhrm80000gn/T/hub-hackqc2022-8347e.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mdatabase, hosting, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "14" doesn't match your global version "16". Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"14\" doesn't match your global version \"16\". Using node@16 from host."}}
[debug] [2022-10-29T20:55:39.860Z] defaultcredentials: writing to file /Users/justinbrulotte/.config/firebase/justin_brlotte797_gmail.com_application_default_credentials.json
[debug] [2022-10-29T20:55:39.863Z] Setting GAC to /Users/justinbrulotte/.config/firebase/justin_brlotte797_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/justinbrulotte/.config/firebase/justin_brlotte797_gmail.com_application_default_credentials.json"}}
[debug] [2022-10-29T20:55:39.867Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/hackqc2022-8347e/adminSdkConfig [none]
[debug] [2022-10-29T20:55:40.247Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/hackqc2022-8347e/adminSdkConfig 200
[debug] [2022-10-29T20:55:40.247Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/hackqc2022-8347e/adminSdkConfig {"projectId":"hackqc2022-8347e","storageBucket":"hackqc2022-8347e.appspot.com","locationId":"northamerica-northeast1"}
[debug] [2022-10-29T20:55:40.302Z] Ignoring unsupported arg: projectId {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: projectId"}}
[debug] [2022-10-29T20:55:40.302Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-10-29T20:55:40.302Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/Users/justinbrulotte/.cache/firebase/emulators/cloud-firestore-emulator-v1.14.3.jar","--host","localhost","--port",8080,"--rules","/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/firestore.rules","--functions_emulator","localhost:5001"],"optionalArgs":["port","webchannel_port","host","rules","functions_emulator","seed_from_export"],"joinArgs":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/Users/justinbrulotte/.cache/firebase/emulators/cloud-firestore-emulator-v1.14.3.jar\",\"--host\",\"localhost\",\"--port\",8080,\"--rules\",\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/firestore.rules\",\"--functions_emulator\",\"localhost:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"functions_emulator\",\"seed_from_export\"],\"joinArgs\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[debug] [2022-10-29T20:55:41.450Z] Oct 29, 2022 4:55:41 P.M. com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://localhost:63505
 {"metadata":{"emulator":{"name":"firestore"},"message":"Oct 29, 2022 4:55:41 P.M. com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://localhost:63505\n"}}
[debug] [2022-10-29T20:55:41.478Z] API endpoint: http://localhost:8080 {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://localhost:8080"}}
[debug] [2022-10-29T20:55:41.479Z] 
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=localhost:8080

Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=localhost:8080\n\nDev App Server is now running.\n\n"}}
[warn] ⚠  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2022-10-29T20:55:50.529Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-10-29T20:55:50.529Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-10-29T20:55:50.530Z] Starting Emulator UI with command {"binary":"node","args":["--dns-result-order=ipv4first","/Users/justinbrulotte/.cache/firebase/emulators/ui-v1.7.0/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"--dns-result-order=ipv4first\",\"/Users/justinbrulotte/.cache/firebase/emulators/ui-v1.7.0/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-10-29T20:55:50.677Z] Web / API server started at localhost:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4001\n"}}
[info] i  functions: Watching "/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions\" for Cloud Functions..."}}
[debug] [2022-10-29T20:55:50.809Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2022-10-29T20:55:52.829Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "14"
  },
  "dependencies": {
    "axios": "^0.19.2",
    "cors": "^2.8.5",
    "firebase-admin": "^8.10.1",
    "firebase-functions": "^3.21.2"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-29T20:55:52.829Z] Building nodejs source
[debug] [2022-10-29T20:55:52.829Z] Analyzing nodejs backend spec
[debug] [2022-10-29T20:55:52.842Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-29T20:55:53.099Z] Serving at port 9005

[debug] [2022-10-29T20:55:53.188Z] Got response from /__/functions.yaml {"endpoints":{"initializeUserOnCreate":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/hackqc2022-8347e"},"retry":false},"labels":{},"entryPoint":"initializeUserOnCreate"},"initializeUserOnDelete":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.delete","eventFilters":{"resource":"projects/hackqc2022-8347e"},"retry":false},"labels":{},"entryPoint":"initializeUserOnDelete"},"syncData":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"syncData"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-29T20:55:53.197Z] shutdown requested via /__/quitquitquit

[debug] [2022-10-29T20:55:53.210Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/hackqc2022-8347e"}}
[info] ✔  functions[us-central1-initializeUserOnCreate]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[debug] [2022-10-29T20:55:53.211Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.delete","resource":"projects/hackqc2022-8347e"}}
[info] ✔  functions[us-central1-initializeUserOnDelete]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[info] ✔  functions[us-central1-syncData]: http function initialized (http://localhost:5001/hackqc2022-8347e/us-central1/syncData). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/hackqc2022-8347e/us-central1/syncData)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4001                │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬─────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI             │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Authentication │ localhost:9099 │ http://localhost:4001/auth      │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Functions      │ localhost:5001 │ http://localhost:4001/functions │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Firestore      │ localhost:8080 │ http://localhost:4001/firestore │
└────────────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[warn] ⚠  Error: Internal state invariant broken: no user with ID: qAR1b8SUIQXo2YSlcpCgkICn88E1
    at AgentProjectState.getUserByLocalIdAssertingExists (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/state.js:208:19)
    at AgentProjectState.validateRefreshToken (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/state.js:295:24)
    at grantToken (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/operations.js:1212:38)
    at Proxy.<anonymous> (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/server.js:375:20)
    at /usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/node_modules/promise-breaker/index.js:265:46
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"auth"},"message":"Error: Internal state invariant broken: no user with ID: qAR1b8SUIQXo2YSlcpCgkICn88E1\n    at AgentProjectState.getUserByLocalIdAssertingExists (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/state.js:208:19)\n    at AgentProjectState.validateRefreshToken (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/state.js:295:24)\n    at grantToken (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/operations.js:1212:38)\n    at Proxy.<anonymous> (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/auth/server.js:375:20)\n    at /usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/node_modules/promise-breaker/index.js:265:46\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2022-10-29T20:56:37.380Z] >>> [apiv2][query] POST http://localhost:5001/functions/projects/hackqc2022-8347e/trigger_multicast [none]
[debug] [2022-10-29T20:56:37.380Z] >>> [apiv2][body] POST http://localhost:5001/functions/projects/hackqc2022-8347e/trigger_multicast {"eventId":"dd77b321-4d88-4464-ad12-bc8e5dbb75c8","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/hackqc2022-8347e","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2022-10-29T20:56:37.380Z","data":{"uid":"JdXEW1necL24s6WHBr9535N06NPP","email":"raccoon.peach.987@example.com","emailVerified":true,"displayName":"Raccoon Peach","photoURL":"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg","metadata":{"creationTime":"2022-10-29T20:56:37.379Z","lastSignInTime":"2022-10-29T20:56:37.379Z"},"customClaims":{},"providerData":[{"providerId":"google.com","rawId":"1245483553667406281535150530353701853620","federatedId":"1245483553667406281535150530353701853620","displayName":"Raccoon Peach","photoUrl":"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg","email":"raccoon.peach.987@example.com","screenName":"peach_raccoon"}]}}
[debug] [2022-10-29T20:56:37.389Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-29T20:56:37.390Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-29T20:56:37.390Z] Accepted multicast request POST /functions/projects/hackqc2022-8347e/trigger_multicast --> us-central1-initializeUserOnCreate-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted multicast request POST /functions/projects/hackqc2022-8347e/trigger_multicast --> us-central1-initializeUserOnCreate-0"}}
[debug] [2022-10-29T20:56:37.407Z] [worker-pool] addWorker(us-central1-initializeUserOnCreate) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-initializeUserOnCreate)"}}
[debug] [2022-10-29T20:56:37.408Z] [worker-pool] Adding worker with key us-central1-initializeUserOnCreate, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-initializeUserOnCreate, total=1"}}
[debug] [2022-10-29T20:56:37.408Z] [worker-pool] submitWork(triggerId=us-central1-initializeUserOnCreate) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-initializeUserOnCreate)"}}
[debug] [2022-10-29T20:56:37.408Z] [worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: Assigning socketPath: /var/folders/7t/lhrdw48d4kd_3cghf1hdhrm80000gn/T/fire_emu_80622.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: Assigning socketPath: /var/folders/7t/lhrdw48d4kd_3cghf1hdhrm80000gn/T/fire_emu_80622.sock"}}
[debug] [2022-10-29T20:56:37.409Z] [worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: BUSY"}}
[debug] [2022-10-29T20:56:37.416Z] <<< [apiv2][status] POST http://localhost:5001/functions/projects/hackqc2022-8347e/trigger_multicast 200
[debug] [2022-10-29T20:56:37.416Z] <<< [apiv2][body] POST http://localhost:5001/functions/projects/hackqc2022-8347e/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2022-10-29T20:56:39.470Z] [runtime-status] [80622] Functions runtime initialized. {"cwd":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Functions runtime initialized. {\"cwd\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-29T20:56:39.474Z] [runtime-status] [80622] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Disabled runtime features: undefined"}}
[debug] [2022-10-29T20:56:39.476Z] [runtime-status] [80622] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-29T20:56:39.477Z] [runtime-status] [80622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-29T20:56:39.478Z] [runtime-status] [80622] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-29T20:56:39.478Z] [runtime-status] [80622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-29T20:56:39.532Z] [runtime-status] [80622] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-29T20:56:39.532Z] [runtime-status] [80622] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.21.2","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-29T20:56:39.533Z] [runtime-status] [80622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-29T20:56:39.534Z] [runtime-status] [80622] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-29T20:56:39.535Z] [runtime-status] [80622] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.21.2","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.21.2\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-29T20:56:39.535Z] [runtime-status] [80622] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-29T20:56:39.538Z] [runtime-status] [80622] initializeApp(DEFAULT) {"storageBucket":"hackqc2022-8347e.appspot.com","projectId":"hackqc2022-8347e"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] initializeApp(DEFAULT) {\"storageBucket\":\"hackqc2022-8347e.appspot.com\",\"projectId\":\"hackqc2022-8347e\"}"}}
[warn] ⚠  functions: The Firebase Authentication emulator is running, but your 'firebase-admin' dependency is below version 9.3.0, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"The Firebase Authentication emulator is running, but your 'firebase-admin' dependency is below version 9.3.0, so calls to Firebase Authentication will affect production."}}
[debug] [2022-10-29T20:56:39.539Z] [runtime-status] [80622] Beginning invocation function initializeUserOnCreate! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Beginning invocation function initializeUserOnCreate!"}}
[info] i  functions: Beginning execution of "initializeUserOnCreate" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"Beginning execution of \"initializeUserOnCreate\""}}
[debug] [2022-10-29T20:56:39.539Z] [runtime-status] [80622] Running initializeUserOnCreate in signature event {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Running initializeUserOnCreate in signature event"}}
[debug] [2022-10-29T20:56:39.540Z] [runtime-status] [80622] ProcessBackground {"eventId":"dd77b321-4d88-4464-ad12-bc8e5dbb75c8","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/hackqc2022-8347e","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2022-10-29T20:56:37.380Z","data":{"uid":"JdXEW1necL24s6WHBr9535N06NPP","email":"raccoon.peach.987@example.com","emailVerified":true,"displayName":"Raccoon Peach","photoURL":"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg","metadata":{"creationTime":"2022-10-29T20:56:37.379Z","lastSignInTime":"2022-10-29T20:56:37.379Z"},"customClaims":{},"providerData":[{"providerId":"google.com","rawId":"1245483553667406281535150530353701853620","federatedId":"1245483553667406281535150530353701853620","displayName":"Raccoon Peach","photoUrl":"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg","email":"raccoon.peach.987@example.com","screenName":"peach_raccoon"}]}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] ProcessBackground {\"eventId\":\"dd77b321-4d88-4464-ad12-bc8e5dbb75c8\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":{\"name\":\"projects/hackqc2022-8347e\",\"service\":\"firebaseauth.googleapis.com\"},\"params\":{},\"timestamp\":\"2022-10-29T20:56:37.380Z\",\"data\":{\"uid\":\"JdXEW1necL24s6WHBr9535N06NPP\",\"email\":\"raccoon.peach.987@example.com\",\"emailVerified\":true,\"displayName\":\"Raccoon Peach\",\"photoURL\":\"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg\",\"metadata\":{\"creationTime\":\"2022-10-29T20:56:37.379Z\",\"lastSignInTime\":\"2022-10-29T20:56:37.379Z\"},\"customClaims\":{},\"providerData\":[{\"providerId\":\"google.com\",\"rawId\":\"1245483553667406281535150530353701853620\",\"federatedId\":\"1245483553667406281535150530353701853620\",\"displayName\":\"Raccoon Peach\",\"photoUrl\":\"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg\",\"email\":\"raccoon.peach.987@example.com\",\"screenName\":\"peach_raccoon\"}]}}"}}
[debug] [2022-10-29T20:56:39.540Z] [runtime-status] [80622] ProcessBackground: lifting resource.name from resource {"name":"projects/hackqc2022-8347e","service":"firebaseauth.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/hackqc2022-8347e\",\"service\":\"firebaseauth.googleapis.com\"}"}}
[debug] [2022-10-29T20:56:39.540Z] [runtime-status] [80622] RunBackground {"data":{"uid":"JdXEW1necL24s6WHBr9535N06NPP","email":"raccoon.peach.987@example.com","emailVerified":true,"displayName":"Raccoon Peach","photoURL":"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg","metadata":{"creationTime":"2022-10-29T20:56:37.379Z","lastSignInTime":"2022-10-29T20:56:37.379Z"},"customClaims":{},"providerData":[{"providerId":"google.com","rawId":"1245483553667406281535150530353701853620","federatedId":"1245483553667406281535150530353701853620","displayName":"Raccoon Peach","photoUrl":"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg","email":"raccoon.peach.987@example.com","screenName":"peach_raccoon"}]},"context":{"eventId":"dd77b321-4d88-4464-ad12-bc8e5dbb75c8","eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/hackqc2022-8347e","params":{},"timestamp":"2022-10-29T20:56:37.380Z"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] RunBackground {\"data\":{\"uid\":\"JdXEW1necL24s6WHBr9535N06NPP\",\"email\":\"raccoon.peach.987@example.com\",\"emailVerified\":true,\"displayName\":\"Raccoon Peach\",\"photoURL\":\"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg\",\"metadata\":{\"creationTime\":\"2022-10-29T20:56:37.379Z\",\"lastSignInTime\":\"2022-10-29T20:56:37.379Z\"},\"customClaims\":{},\"providerData\":[{\"providerId\":\"google.com\",\"rawId\":\"1245483553667406281535150530353701853620\",\"federatedId\":\"1245483553667406281535150530353701853620\",\"displayName\":\"Raccoon Peach\",\"photoUrl\":\"https://www.hockeydb.com/ihdb/photos/dereck-baribeau-2021-2331.jpg\",\"email\":\"raccoon.peach.987@example.com\",\"screenName\":\"peach_raccoon\"}]},\"context\":{\"eventId\":\"dd77b321-4d88-4464-ad12-bc8e5dbb75c8\",\"eventType\":\"providers/firebase.auth/eventTypes/user.create\",\"resource\":\"projects/hackqc2022-8347e\",\"params\":{},\"timestamp\":\"2022-10-29T20:56:37.380Z\"}}"}}
[debug] [2022-10-29T20:56:39.938Z] [runtime-status] [80622] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"[runtime-status] [80622] Ephemeral server survived."}}
[warn] ⚠  functions: Error: Value for argument "data" is not a valid Firestore document. Cannot use "undefined" as a Firestore value (found in field "userId"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.
    at validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:268:19)
    at Object.validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:260:13)
    at validateDocumentData (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:641:18)
    at WriteBatch.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:251:9)
    at DocumentReference.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/reference.js:340:14)
    at /Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/index.js:11:70
    at cloudFunction (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/cloud-functions.js:135:23)
    at /usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:577:16
    at runFunction (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:564:15)
    at runBackground (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:576:11) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"userId\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:268:19)\n    at Object.validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:260:13)\n    at validateDocumentData (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:641:18)\n    at WriteBatch.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:251:9)\n    at DocumentReference.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/reference.js:340:14)\n    at /Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/index.js:11:70\n    at cloudFunction (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/cloud-functions.js:135:23)\n    at /usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:577:16\n    at runFunction (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:564:15)\n    at runBackground (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:576:11)"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-initializeUserOnCreate"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] {"code":500,"body":"Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"userId\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:268:19)\n    at Object.validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:260:13)\n    at validateDocumentData (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:641:18)\n    at WriteBatch.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:251:9)\n    at DocumentReference.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/reference.js:340:14)\n    at /Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/index.js:11:70\n    at cloudFunction (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/cloud-functions.js:135:23)\n    at /usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:577:16\n    at runFunction (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:564:15)\n    at runBackground (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:576:11)"} {"metadata":{"emulator":{"name":"functions"},"message":{"code":500,"body":"Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"userId\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:268:19)\n    at Object.validateUserInput (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/serializer.js:260:13)\n    at validateDocumentData (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:641:18)\n    at WriteBatch.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:251:9)\n    at DocumentReference.set (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/@google-cloud/firestore/build/src/reference.js:340:14)\n    at /Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/index.js:11:70\n    at cloudFunction (/Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/node_modules/firebase-functions/lib/cloud-functions.js:135:23)\n    at /usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:577:16\n    at runFunction (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:564:15)\n    at runBackground (/usr/local/Cellar/nvm/0.37.2/versions/node/v14.18.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:576:11)"}}}
[debug] [2022-10-29T20:56:39.940Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-29T20:56:39.949Z] [worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: exited"}}
[debug] [2022-10-29T20:56:39.950Z] [worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-initializeUserOnCreate-e243c100-33c8-4060-9913-1b09b250de84]: FINISHED"}}
[debug] [2022-10-29T21:12:48.115Z] File /Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/justinbrulotte/Documents/PROJET PERSONNEL/HackQC22/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-29T21:12:49.117Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2022-10-29T21:12:51.159Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "14"
  },
  "dependencies": {
    "axios": "^0.19.2",
    "cors": "^2.8.5",
    "firebase-admin": "^8.10.1",
    "firebase-functions": "^3.21.2"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-29T21:12:51.159Z] Building nodejs source
[debug] [2022-10-29T21:12:51.159Z] Analyzing nodejs backend spec
[debug] [2022-10-29T21:12:51.160Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-29T21:12:51.438Z] Serving at port 9005

[debug] [2022-10-29T21:12:51.536Z] Got response from /__/functions.yaml {"endpoints":{"initializeUserOnCreate":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/hackqc2022-8347e"},"retry":false},"labels":{},"entryPoint":"initializeUserOnCreate"},"initializeUserOnDelete":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.delete","eventFilters":{"resource":"projects/hackqc2022-8347e"},"retry":false},"labels":{},"entryPoint":"initializeUserOnDelete"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-29T21:12:51.542Z] shutdown requested via /__/quitquitquit

