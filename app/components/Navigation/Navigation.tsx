import Link from "next/link";
import cx from "classix";
import { useRouter } from "next/router";

type Props = {
  adminView?: boolean;
};

function BottomNav({
  label,
  href,
  icon,
  active = false,
}: {
  label: string;
  href?: string;
  icon?: any;
  active?: boolean;
}) {
  if (!href) {
    return (
      <div className="flex items-center flex-col">
        {icon}
        <span className="text-sm text-gray-400">{label}</span>
      </div>
    );
  }

  return (
    <Link href={href}>
      <div className="flex items-center flex-col">
        {icon}
        <span
          className={cx(
            "cursor-pointer px-4 text-sm text-gray-400",
            active && "text-[#00A0B4]"
          )}
        >
          {label}
        </span>
      </div>
    </Link>
  );
}

export default function Navigation({ adminView = false }: Props) {
  const router = useRouter();
  return (
    <div className={cx("w-full h-[64px] flex items-center")}>
      {adminView ? (
        <div className="w-full grid grid-cols-3 pb-2">
          <BottomNav
            label="Ma borne"
            href="/app/terminal/list"
            active={router.pathname === "/app/terminal/list"}
            icon={
              <div className="w-8 h-8">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="34"
                  height="34"
                  viewBox="0 0 34 34"
                  fill="none"
                >
                  <g clip-path="url(#clip0_46_972)">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M17 0C7.6113 0 0 7.6113 0 17C0 26.3887 7.6113 34 17 34C26.3887 34 34 26.3887 34 17C34 7.6113 26.3887 0 17 0ZM27.4669 17.79C27.3892 17.8901 27.2741 17.9547 27.1478 17.9706C27.0214 17.9846 26.8941 17.95 26.794 17.8704L25.2515 16.6593V25.9975C25.2515 26.2623 25.0362 26.4776 24.7713 26.4776H11.942V22.1141C11.942 20.5548 13.2103 19.2866 14.7696 19.2866L18.2111 21.5778C18.9852 22.0767 20.0035 21.5217 20.0035 20.6007V20.5249H21.3588C21.6096 20.5249 21.8127 20.3218 21.8127 20.0718C21.8127 19.8219 21.6096 19.6179 21.3588 19.6179H20.0035V17.5953H21.3588C21.6096 17.5953 21.8127 17.3922 21.8127 17.1413C21.8127 16.8905 21.6096 16.6893 21.3588 16.6893H20.0035V16.6125C20.0035 15.6925 18.9852 15.1374 18.2111 15.6354L14.7696 17.9266C12.4606 17.9266 10.5821 19.8051 10.5821 22.1141V26.4776H9.22865C8.96377 26.4776 8.7485 26.2623 8.7485 25.9975V16.6593L7.20602 17.8704C7.10587 17.95 6.97858 17.9846 6.85223 17.9706C6.72587 17.9547 6.61168 17.8901 6.53213 17.79L4.86236 15.6644C4.78467 15.5642 4.74817 15.4369 4.76408 15.3106C4.77812 15.1852 4.84364 15.0691 4.94379 14.9914L16.7042 5.7534C16.8774 5.61675 17.1226 5.61675 17.2967 5.7534L29.0562 14.9914C29.2649 15.1543 29.3005 15.4566 29.1376 15.6644L27.4669 17.79Z"
                      fill={
                        router.pathname === "/app/terminal/list"
                          ? "#00A0B4"
                          : "#133B62"
                      }
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_46_972">
                      <rect width="34" height="34" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            }
          />
          <BottomNav
            label="Historique"
            href="/app/terminal/history"
            active={router.pathname === "/app/terminal/history"}
            icon={
              <div className="w-8 h-8">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="34"
                  height="34"
                  viewBox="0 0 34 34"
                  fill="none"
                >
                  <g clip-path="url(#clip0_46_981)">
                    <path
                      d="M16.9997 0C7.61128 0 0 7.61175 0 17C0 26.3883 7.61128 34 16.9997 34C26.3881 34 34 26.3883 34 17C34 7.61114 26.3881 0 16.9997 0ZM16.9997 26.401C15.7793 26.401 14.7897 25.412 14.7897 24.191H19.2091C19.2091 25.412 18.2195 26.401 16.9997 26.401ZM24.4671 21.9749C24.4671 22.7921 23.8047 22.8456 22.9881 22.8456H11.0113C10.1947 22.8456 9.53292 22.7915 9.53292 21.9749V21.8341C9.53292 21.2464 9.87778 20.7436 10.3738 20.5044L10.8432 16.4524C10.8432 13.4859 12.9409 11.0099 15.7338 10.4259V8.85275C15.7338 8.15332 16.3009 7.58686 17.0003 7.58686C17.6997 7.58686 18.2668 8.15393 18.2668 8.85275V10.4259C21.0597 11.0099 23.1574 13.4859 23.1574 16.4524L23.6268 20.505C24.1228 20.7443 24.4677 21.2464 24.4677 21.8341V21.9749H24.4671Z"
                      fill={
                        router.pathname === "/app/terminal/history"
                          ? "#00A0B4"
                          : "#133B62"
                      }
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_46_981">
                      <rect width="34" height="34" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            }
          />
          <BottomNav
            label="Compte"
            href="/app/terminal/profile"
            active={router.pathname === "/app/terminal/profile"}
            icon={
              <div className="w-8 h-8">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="34"
                  height="34"
                  viewBox="0 0 34 34"
                  fill={
                    router.pathname === "/app/terminal/profile"
                      ? "#00A0B4"
                      : "#133B62"
                  }
                >
                  <g clip-path="url(#clip0_46_978)">
                    <path
                      d="M20.1951 17.6887C20.1951 19.4536 18.7646 20.8841 16.9996 20.8841C15.2347 20.8841 13.8042 19.453 13.8042 17.6887C13.8042 15.9243 15.2347 14.4927 16.9996 14.4927C18.7646 14.4927 20.1951 15.9237 20.1951 17.6887Z"
                      fill={
                        router.pathname === "/app/terminal/profile"
                          ? "#00A0B4"
                          : "#133B62"
                      }
                    />
                    <path
                      d="M16.9997 0C7.61128 0 0 7.61175 0 17C0 26.3883 7.61128 34 16.9997 34C26.3881 34 34 26.3883 34 17C34 7.61114 26.3881 0 16.9997 0ZM25.9334 19.4705L23.5187 19.6259C23.3833 20.0812 23.203 20.5172 22.9808 20.927L24.5776 22.7448L22.0567 25.2656L20.2395 23.6689C19.8296 23.8911 19.3937 24.0714 18.9383 24.2062L18.7823 26.6214H15.2171L15.0611 24.2062C14.6057 24.0714 14.1698 23.8911 13.7599 23.6689L11.9427 25.2656L9.42181 22.7436L11.0186 20.9264C10.7964 20.5166 10.6161 20.0806 10.4807 19.6253L8.06604 19.4693V15.9041L10.4807 15.7481C10.6161 15.2927 10.7964 14.8568 11.0186 14.447L9.42181 12.6298L11.9427 10.1083L13.7599 11.7051C14.1698 11.4829 14.6057 11.3026 15.0617 11.1672L15.2177 8.75196H18.7823L18.9383 11.1672C19.3937 11.3026 19.8296 11.4823 20.2395 11.7051L22.0567 10.1083L24.5776 12.6298L22.9808 14.447C23.203 14.8568 23.3833 15.2927 23.5187 15.7481L25.9334 15.9041V19.4699V19.4705Z"
                      fill={
                        router.pathname === "/app/terminal/profile"
                          ? "#00A0B4"
                          : "#133B62"
                      }
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_46_978">
                      <rect width="34" height="34" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            }
          />
        </div>
      ) : (
        <div className="w-full grid grid-cols-5 pb-1">
          <BottomNav
            label="Bornes"
            href="/app/map"
            active={router.pathname === "/app/map"}
            icon={
              <div className="w-6 h-6">
                <svg
                  viewBox="0 0 73 73"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M36.5 32.5125C34.2887 32.5125 32.5125 34.2887 32.5125 36.5C32.5125 38.7113 34.2887 40.4875 36.5 40.4875C38.7113 40.4875 40.4875 38.7113 40.4875 36.5C40.4875 34.2887 38.7113 32.5125 36.5 32.5125ZM36.5 0.25C16.49 0.25 0.25 16.49 0.25 36.5C0.25 56.51 16.49 72.75 36.5 72.75C56.51 72.75 72.75 56.51 72.75 36.5C72.75 16.49 56.51 0.25 36.5 0.25ZM44.4387 44.4387L14.75 58.25L28.5613 28.5613L58.25 14.75L44.4387 44.4387Z"
                    fill={
                      router.pathname === "/app/map" ? "#00A0B4" : "#A2A2A2"
                    }
                  />
                </svg>
              </div>
            }
          />
          <BottomNav
            label="Trajet"
            icon={
              <div className="w-6 h-6">
                <svg
                  viewBox="0 0 73 73"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_26_873)">
                    <path
                      d="M36.5 0C16.3696 0 0 16.3696 0 36.5C0 56.6304 16.3696 73 36.5 73C56.6304 73 73 56.6304 73 36.5C73 16.3696 56.6304 0 36.5 0ZM36.5 6.87797C51.465 6.87797 64.0298 18.1571 65.8467 32.8304C48.079 21.0967 24.921 21.0967 7.15335 32.8304C8.96857 18.1588 21.535 6.87797 36.5 6.87797ZM30.9435 65.5729C19.7475 63.4562 10.8408 55.1786 7.91268 44.1569C9.29935 43.7919 10.7235 43.5914 12.146 43.5914C22.5127 43.5914 30.9517 53.3177 30.9517 65.2812C30.9517 65.3806 30.9435 65.4735 30.9435 65.5729ZM35.9297 52.3563H34.6326L36.4169 42.195H30.0929L31.3346 29.2766H39.6058L37.6064 37.0051H44.1846L35.9297 52.3563ZM42.0581 65.5713C42.0581 65.4702 42.05 65.379 42.05 65.2796C42.05 53.3161 50.4808 43.5898 60.8556 43.5898C62.2781 43.5898 63.6925 43.7902 65.089 44.1552C62.1592 55.1786 53.2542 63.4562 42.0581 65.5713Z"
                      fill="#A2A2A2"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_26_873">
                      <rect width="73" height="73" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            }
          />
          <BottomNav
            label="Recharge"
            icon={
              <div className="w-6 h-6">
                <svg
                  viewBox="0 0 73 73"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_30_875)">
                    <path
                      d="M36.4985 53.6454C26.862 53.6454 18.001 57.018 11.0292 62.644C17.6044 69.0545 26.5917 73 36.5015 73C46.4113 73 55.3956 69.0545 61.9708 62.644C54.9961 57.018 46.1351 53.6454 36.4985 53.6454ZM36.4985 0C16.341 0 0 16.3433 0 36.5C0 44.9522 2.87334 52.7346 7.69751 58.9218C15.5566 52.5055 25.5869 48.651 36.4985 48.651C47.4102 48.651 57.4434 52.5055 65.3025 58.9218C70.1267 52.7346 73 44.9522 73 36.5C73 16.3433 56.659 0 36.5015 0H36.4985ZM33.9601 9.38647C33.9601 7.99099 35.103 6.84816 36.4985 6.84816C37.1978 6.84816 37.8294 7.13313 38.2907 7.59437C38.749 8.05562 39.034 8.6902 39.034 9.38647V15.1917C39.034 16.5872 37.8941 17.7271 36.4985 17.7271C35.7993 17.7271 35.1647 17.4421 34.7064 16.9838C34.248 16.5255 33.9601 15.888 33.9601 15.1917V9.38647ZM17.4634 38.2862C17.0021 38.7475 16.3675 39.0324 15.6712 39.0324H9.86574C8.4702 39.0324 7.32732 37.8896 7.32732 36.4941C7.32732 35.7949 7.61231 35.1603 8.07357 34.702C8.53483 34.2408 9.16944 33.9558 9.86574 33.9558H15.6712C17.0667 33.9558 18.2067 35.0986 18.2067 36.4941C18.2067 37.1933 17.9217 37.8279 17.4634 38.2862ZM23.4333 23.3913C22.9398 23.8848 22.2905 24.1316 21.6382 24.1316C20.986 24.1316 20.3367 23.8848 19.8431 23.3913L15.7388 19.2871C14.7516 18.2999 14.7516 16.6841 15.7388 15.697C16.2323 15.2034 16.8846 14.9567 17.5339 14.9567C18.1832 14.9567 18.8354 15.2034 19.329 15.697L23.4333 19.8041C24.4205 20.7883 24.4205 22.4041 23.4333 23.3913ZM42.9063 41.1536C42.9063 41.1536 42.9004 41.1624 42.8974 41.1683C42.8974 41.1683 42.8886 41.1771 42.8828 41.183C41.4931 42.8928 39.3689 43.9857 36.9921 43.9857C32.7967 43.9857 29.3945 40.5866 29.3945 36.3913C29.3945 33.5298 30.9751 31.0385 33.3138 29.7429L54.4026 15.415H54.4085C54.8021 15.1153 55.2928 14.939 55.8275 14.939C57.1349 14.939 58.1955 15.9996 58.1955 17.3069C58.1955 17.7359 58.0809 18.1354 57.8811 18.4821L57.7019 18.7524L43.7113 39.9344L42.9063 41.1536ZM65.1615 38.2862C64.7002 38.7475 64.0685 39.0324 63.3693 39.0324H57.5638C56.1683 39.0324 55.0254 37.8896 55.0254 36.4941C55.0254 35.7949 55.3104 35.1603 55.7717 34.702C56.23 34.2408 56.8646 33.9558 57.5638 33.9558H63.3693C64.7648 33.9558 65.9048 35.0986 65.9048 36.4941C65.9048 37.1933 65.6198 37.8279 65.1615 38.2862Z"
                      fill="#A2A2A2"
                    />
                    <path
                      d="M43.7142 39.9344C43.485 40.3692 43.2177 40.7746 42.9092 41.1536L43.7142 39.9344Z"
                      fill="#606060"
                    />
                    <path
                      d="M42.8993 41.1712L42.8885 41.1848H42.8857C42.8857 41.1848 42.8939 41.1739 42.8993 41.1712Z"
                      fill="#606060"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_30_875">
                      <rect width="73" height="73" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            }
          />
          <BottomNav
            label="Avantage"
            icon={
              <div className="w-6 h-6">
                <svg
                  viewBox="0 0 73 73"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_30_961)">
                    <path
                      d="M46.2515 26.1165C46.8288 26.7082 47.1511 27.5067 47.1511 28.3341C47.1511 29.1615 46.8288 29.9601 46.2515 30.5518C45.6598 31.1627 44.8467 31.5091 44 31.5139C43.1485 31.5235 42.3307 31.1916 41.7293 30.5951C41.1279 29.9986 40.7864 29.1808 40.7864 28.3341C40.7864 27.4875 41.1279 26.6697 41.7293 26.0732C42.3307 25.4767 43.1485 25.1447 44 25.1543C44.8467 25.1592 45.6598 25.5055 46.2515 26.1165Z"
                      fill="#A2A2A2"
                    />
                    <path
                      d="M36.5 0C16.3425 0 0 16.3414 0 36.4976C0 56.6538 16.3425 73 36.5 73C56.6575 73 73 56.6586 73 36.4976C73 16.3366 56.6623 0 36.5 0ZM55.3634 22.0419L54.5696 33.924C54.4878 35.0641 54.0019 36.1368 53.1985 36.945L32.9833 57.2118C32.0884 58.0873 30.8905 58.578 29.6445 58.578C28.3985 58.578 27.1958 58.0873 26.301 57.2118L15.1686 46.0754C14.2931 45.1854 13.8024 43.9876 13.8024 42.7369C13.8024 41.4861 14.2931 40.2883 15.1686 39.3984L35.3839 19.0834C36.1969 18.2801 37.2697 17.799 38.4051 17.7172L50.2879 16.9235C51.6783 16.8417 53.0301 17.3709 53.9971 18.3667C54.8823 19.2662 55.373 20.4689 55.373 21.7196C55.373 21.8302 55.373 21.9361 55.3634 22.0419Z"
                      fill="#A2A2A2"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_30_961">
                      <rect width="73" height="73" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            }
          />
          <BottomNav
            label="Compte"
            href="/app/profile"
            active={router.pathname === "/app/profile"}
            icon={
              <div className="w-6 h-6">
                <svg
                  viewBox="0 0 74 65"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M73.8662 36.9071C73.8662 47.6779 69.2546 57.3743 61.9007 64.1202C62.2794 61.305 62.5182 56.0005 59.3561 54.2887L46.8407 47.5789C44.5181 46.3258 43.4882 44.9834 43.4882 43.7762C43.4882 40.8668 49.2985 36.7502 49.2985 26.5492C49.2985 18.0503 44.7858 12.2315 37.0532 12.2315C28.4716 12.2315 24.7162 19.3904 24.7162 26.595C24.7162 36.079 30.3939 40.3742 30.3939 43.5516C30.3939 44.8047 29.5449 46.3258 27.174 47.5789L14.661 54.2887C11.4628 56.0029 11.7184 61.3123 12.1068 64.1275C4.74802 57.3791 0.134033 47.6827 0.134033 36.9071C0.134033 16.5244 16.6388 0 37.0001 0C57.3615 0 73.8662 16.5244 73.8662 36.9071Z"
                    fill={
                      router.pathname === "/app/profile" ? "#00A0B4" : "#A2A2A2"
                    }
                  />
                </svg>
              </div>
            }
          />
        </div>
      )}
    </div>
  );
}
